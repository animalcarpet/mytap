sudo: required
services:
  - docker

matrix:
  include:
    - env:
        - DB=mysql:5.5
    - env:
        - DB=mysql:5.6
    - env:
        - DB=mysql:5.7
    - env:
        - DB=mysql:8.0

before_script:
  - ./.travis.install-mysql.sh
  - export COVERALLS_PARALLEL=true

script: bash ./install.sh
  - if [ ! -z "${DB}" ];
    then docker logs mysqld;
    fi

after_success:
  - coveralls

